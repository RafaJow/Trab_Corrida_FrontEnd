<p-toast></p-toast>
<p-confirmDialog header="Confirmação" icon="pi pi-question-circle" acceptLabel="Sim" rejectLabel="Não"></p-confirmDialog>

<div class="container">
  <form autocomplete="off" (ngSubmit)="pesquisar()">
    <div class="ui-g">
      <div class="ui-g-12">
        <h1>
          Eventos
        </h1>
      </div>
      <div class="ui-g-12 ui-fluid">
        <label>Descrição</label>
         <input pInputText type="text" name="descricao" [(ngModel)]="nomeBusca">

        </div>
        <div class="ui-g-12">
          <button pButton typer="submit" label="Pesquisar"></button>
        </div>
      </div>
    </form>

    <div class="ui-g">
      <div class="ui-g-12">
        <p-table [value]="eventos" [paginator]="true" [rows]="3" [responsive]="true">
          <ng-template pTemplate="header">
            <tr>
              <th class="col-id-header">Id</th>
              <th class="col-nom">Descrição</th>
              <th class="col-cid">Cidades</th>
              <th class="col-data">Data</th>
              <th class="col-cat">Categorias</th>
              <th class="col-acoes">Edit/Delete</th>
            </tr>
          </ng-template>

          <ng-template pTemplate="body" let-eve>
            <tr>
              <td class="col-id">{{eve.id}}</td>
              <td class="col-nom">{{eve.nome}}</td>
              <td class="col-cid">{{eve.cidade}}</td>
              <td class="col-data">{{eve.data}}</td>
              <td class="col-cat">{{eve.categorias | json}}</td>

              <td>
                <button pButton icon="pi pi-pencil" pTooltip="Editar" tooltipPosition="top" showDelay="1000" class="ui-button-info" [routerLink]="['/eventos', eve.id]"></button>
                <button pButton icon="pi pi-trash" pTooltip="Apagar" tooltipPosition="top" showDelay="1000" class="ui-button-danger" (click)="confirmarExclusao(eve)"></button>
                <a pButton label="Adicionar Categoria" [routerLink]="['/categorias/novo']"></a>
              </td>
            </tr>
          </ng-template>

        </p-table>
      </div>

      <div class="ui-g-12">
        <a pButton label="Novo Evento" routerLink="/eventos/novo"></a>
      </div>

    </div>

  </div>

